---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getDictionary, getLangFromUrl, languages } from '../../i18n/utils';

export function getStaticPaths() {
  return languages.map((lang) => ({ params: { lang } }));
}

const lang = getLangFromUrl(Astro.url);
const dict = getDictionary(lang);
const privacy = dict.privacy;
---

<BaseLayout lang={lang} title={privacy.metaTitle}>
  <div class="legal">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <a href={`/${lang}`} class="back">{privacy.back}</a>
      <a href={`/${privacy.otherLang}/privacy`} class="back">{privacy.otherLangLabel}</a>
    </div>

    <h1>{privacy.title}</h1>
    <p class="date">{privacy.date}</p>

    <h2>{privacy.sections.overview.title}</h2>
    <p>{privacy.sections.overview.paragraph}</p>

    <h2>{privacy.sections.dataCollection.title}</h2>
    <p>
      <strong>{privacy.sections.dataCollection.introStrong}</strong>
      {' '}
      {privacy.sections.dataCollection.introTail}
    </p>
    <ul>
      {
        privacy.sections.dataCollection.items.map((item) => (
          <li>
            <strong>{item.label}</strong> {item.text}
          </li>
        ))
      }
    </ul>

    <h2>{privacy.sections.noServers.title}</h2>
    <p>{privacy.sections.noServers.paragraph}</p>

    <h2>{privacy.sections.thirdParties.title}</h2>
    <p>{privacy.sections.thirdParties.paragraph}</p>

    <h2>{privacy.sections.appleServices.title}</h2>
    <p>
      {privacy.sections.appleServices.beforeLink}{' '}
      <a href="https://www.apple.com/legal/privacy/">{privacy.sections.appleServices.linkText}</a>{' '}
      {privacy.sections.appleServices.afterLink}
    </p>

    <h2>{privacy.sections.permissions.title}</h2>
    <ul>
      {
        privacy.sections.permissions.items.map((item) => (
          <li>
            <strong>{item.label}</strong> â€” {item.text}
          </li>
        ))
      }
    </ul>
    <p>{privacy.sections.permissions.paragraph}</p>

    <h2>{privacy.sections.changes.title}</h2>
    <p>{privacy.sections.changes.paragraph}</p>

    <h2>{privacy.sections.contact.title}</h2>
    <p>
      {privacy.sections.contact.prefix}{' '}
      <a href={`mailto:${dict.footer.email}`}>{dict.footer.email}</a>
    </p>
  </div>
</BaseLayout>
